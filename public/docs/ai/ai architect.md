# ğŸ§­ **AI Assist Layer â€” ì„¤ê³„ ë…¼ì˜ 1ì°¨ ì •ë¦¬**


## ğŸ§© 1ï¸âƒ£ ì „ì²´ êµ¬ì¡° ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Frontend (Next.js)                 â”‚
â”‚                                                        â”‚
â”‚  [Report Editor Canvas]                                â”‚
â”‚    â”‚  â”œâ”€ ë¸”ë¡ ì„ íƒ / ìš°í´ë¦­ â†’ AI ActionMenu           â”‚
â”‚    â”‚  â”œâ”€ ì‚¬ì´ë“œ íŒ¨ë„(AIAssistPanel) â†’ ìš”ì²­ í‘œì‹œ       â”‚
â”‚    â”‚  â””â”€ useAIAssist Hook â†’ /api í˜¸ì¶œ                 â”‚
â”‚                                                        â”‚
â”‚  [AIAssistPanel]                                       â”‚
â”‚    â”œâ”€ Summarize / Rewrite / ESG Map ë²„íŠ¼               â”‚
â”‚    â”œâ”€ AISuggestionCard(ì ìš© ë²„íŠ¼)                      â”‚
â”‚    â””â”€ TopBar(ì €ì¥ ìƒíƒœ í‘œì‹œ ì—°ë™)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
     HTTP POST  â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Backend (FastAPI)                   â”‚
â”‚                                                        â”‚
â”‚  [ai_assist/router.py]                                 â”‚
â”‚    â”œâ”€ /summarize                                       â”‚
â”‚    â”œâ”€ /rewrite                                         â”‚
â”‚    â””â”€ /map-esg                                         â”‚
â”‚         â”‚                                               â”‚
â”‚         â–¼                                               â”‚
â”‚  [ai_assist/service.py]                                â”‚
â”‚    â”œâ”€ Input validation (schemas)                       â”‚
â”‚    â”œâ”€ ESG context lookup (RAG optional)                â”‚
â”‚    â”œâ”€ Prompt template ì¡°í•© (prompts.py)                â”‚
â”‚    â””â”€ GeminiClient í˜¸ì¶œ (gemini_client.py)             â”‚
â”‚         â”‚                                               â”‚
â”‚         â–¼                                               â”‚
â”‚  [Gemini API Server (googleapis.com)]                  â”‚
â”‚         â”‚                                               â”‚
â”‚         â–¼                                               â”‚
â”‚  [ì‘ë‹µ í›„ DB ì €ì¥ (models.py)]                        â”‚
â”‚    â””â”€ ai_suggestions(id, document_id, block_id, type, 
â”‚                      suggestion, confidence, created_at)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
     JSON ì‘ë‹µ  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Frontend (React Query response)                â”‚
â”‚    â”œâ”€ AISuggestionCard ë Œë”ë§                           â”‚
â”‚    â””â”€ â€œì ìš©â€ â†’ CommandSystem(UpdateBlockContent)        â”‚
â”‚                    â†“                                   â”‚
â”‚                Autosave â†’ ë²„ì „ ìƒì„±                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© 2ï¸âƒ£ ë°ì´í„° í”Œë¡œìš° (Summarize ì˜ˆì‹œ)

1. **ì‚¬ìš©ì í–‰ë™**
   ë¸”ë¡ ì„ íƒ â†’ â€œAI ìš”ì•½â€ ë²„íŠ¼ í´ë¦­
2. **Frontend ìš”ì²­**
   `POST /api/v1/ai-assist/summarize`

   ```json
   { "text": "...", "goal": "short_summary", "context": "E section" }
   ```
3. **Backend Service ë¡œì§**

   * Prompt ìƒì„± (`prompts.summarize_prompt`)
   * Gemini API í˜¸ì¶œ
   * ê²°ê³¼ íŒŒì‹± â†’ DB ë¡œê·¸ ì €ì¥
4. **ì‘ë‹µ ì „ë‹¬**

   ```json
   { "type": "summary", "suggestion": "..." }
   ```
5. **Frontend ë Œë”ë§**

   * `AISuggestionCard`ì— í‘œì‹œ
   * â€œì ìš©í•˜ê¸°â€ â†’ `CommandSystem.execute(UpdateBlockContent)`
   * `uiStore.setSaveStatus('edited')`
6. **Autosave**

   * 3ì´ˆ í›„ PUT â†’ `/api/documents/:id`
   * ìƒˆ ë²„ì „ ìƒì„±

---

## ğŸ§± 3ï¸âƒ£ ESG ê¸°ì¤€ ë§¤í•‘ ë°ì´í„° í”Œë¡œìš°

```
ì‚¬ìš©ì â†’ "ESG ë§¤í•‘ í™•ì¸"
   â†“
POST /api/v1/ai-assist/map-esg
   â†“
service.map_esg()
   â”œâ”€ ESG ê¸°ì¤€ ë°ì´í„°ì…‹ ì¡°íšŒ (JSON or DB)
   â”œâ”€ Gemini Promptì— ì‚½ì…
   â”œâ”€ ê²°ê³¼: { standard_id, title, confidence }
   â†“
ì‘ë‹µ â†’ AIAssistPanel í‘œì‹œ
   â†“
â€œì ìš©â€ â†’ ë¸”ë¡ metadata.esg_tags ì—…ë°ì´íŠ¸
```

---

## ğŸ§  4ï¸âƒ£ í•µì‹¬ ë°ì´í„° ëª¨ë¸ ê°œë…

| Table              | ì£¼ìš” í•„ë“œ                                                                             | ì„¤ëª…            |
| ------------------ | --------------------------------------------------------------------------------- | ------------- |
| **ai_suggestions** | `id`, `document_id`, `block_id`, `type`, `suggestion`, `confidence`, `created_at` | AI ì œì•ˆ ë¡œê·¸ ì €ì¥   |
| **esg_standards**  | `standard_id`, `framework`, `topic`, `description`, `keywords`                    | ESG ê¸°ì¤€ ì°¸ì¡° ë°ì´í„° |
| **documents**      | ê¸°ì¡´ ë¬¸ì„œ í…Œì´ë¸”                                                                         | FK ì—°ê²°         |

---

## âš™ï¸ 5ï¸âƒ£ ê¸°ìˆ  Stack ìš”ì•½

| ê³„ì¸µ           | ê¸°ìˆ                                                  |
| ------------ | -------------------------------------------------- |
| **Frontend** | Next.js 15 Â· React 19 Â· Zustand Â· React Query      |
| **Backend**  | FastAPI Â· Gemini API Â· SQLAlchemy                  |
| **Storage**  | PostgreSQL (ë¬¸ì„œ ë° AI ë¡œê·¸), Redis (optional queue)    |
| **AI**       | Google Gemini 2.0 Flash (model="gemini-2.0-flash") |
| **ì¶”í›„ í™•ì¥**    | LangChain + Chroma (RAG for ESG Mapping)           |

---

## ğŸ’¬ 6ï¸âƒ£ Phase 2 â†’ 3 ì „í™˜ ì „ëµ

| í•­ëª©        | Phase 2 (í˜„ì¬)          | Phase 3 (ì˜ˆì •)         |
| --------- | --------------------- | -------------------- |
| **AI ëª¨ë¸** | Gemini API            | Local + RAG Hybrid   |
| **ë°ì´í„°ì…‹**  | Static ESG JSON       | Vector DB (Chroma)   |
| **UX ëª¨ë“œ** | í´ë¦­ â†’ AI í˜¸ì¶œ            | ì‹¤ì‹œê°„ Draft Suggest    |
| **ë¡œê¹…**    | Basic Suggestion Logs | Feedback + Analytics |
| **ë³´ì•ˆ**    | API Key               | Internal Auth Token  |


---

## ğŸ§© 1ï¸âƒ£ AI ê¸°ëŠ¥ ë²”ìœ„ ì •ì˜

| ê¸°ëŠ¥               | ëª©í‘œ                                                               | êµ¬í˜„ ì „ëµ                                                                                                                                                            | ë…¼ì˜ í¬ì¸íŠ¸                                                          |
| ---------------- | ---------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------- |
| **A. ESG ê¸°ì¤€ ë§¤í•‘** | ì‚¬ìš©ìê°€ ì‘ì„±í•œ ë¬¸ë‹¨ì„ GRI, SASB, ESRS, TCFD ê¸°ì¤€ì— ë§¤í•‘í•˜ê³ , ëˆ„ë½ í•­ëª© ë˜ëŠ” ê´€ë ¨ í…œí”Œë¦¿ì„ ì œì•ˆ | - ESG ê¸°ì¤€ ë°ì´í„°ì…‹(JSON or DB) êµ¬ì¶• <br>- Gemini ë˜ëŠ” Local LLMì´ ë¬¸ë‹¨ ë¶„ì„ í›„ â€œê¸°ì¤€ í›„ë³´ + ì‹ ë¢°ë„ ì ìˆ˜â€ ë°˜í™˜ <br>- Backendì—ì„œ RAG(LangChain + FAISS/Chroma)ë¡œ ESG ê¸°ì¤€ ë¬¸í•­ ê²€ìƒ‰ í›„ LLM Promptì— ì‚½ì… | âš™ï¸ RAGë¥¼ ì§ì ‘ êµ¬ì¶•í• ì§€, Gemini ìì²´ reasoningì— ë§¡ê¸¸ì§€? <br>ë°ì´í„°ì…‹ í˜•ì‹/ì¶œì²˜ í™•ì • í•„ìš” |
| **B. ë¬¸ë‹¨ ìš”ì•½**     | ESG ë³´ê³ ì„œ ìŠ¤íƒ€ì¼ì— ë§ëŠ” concise summary ìƒì„±                               | - Prompt ê¸°ë°˜ Summarization (style prompt í¬í•¨) <br>- ëª©í‘œ ë‹¨ì–´ ìˆ˜/í†¤ ì˜µì…˜ ì œê³µ                                                                                                | ğŸ§  â€œì„¹ì…˜ ë‹¨ìœ„ ìš”ì•½â€ì€ ë¹„ìš©â†‘, â€œë¸”ë¡ ë‹¨ìœ„ ìš”ì•½â€ì€ contextâ†“ â€” granularity ê²°ì • í•„ìš”    |
| **C. ë¬¸ì¥ ë¦¬ë¼ì´íŒ…**   | ëª…í™•ì„±Â·í†¤Â·ì–¸ì–´ë¥¼ ê°œì„                                                      | - â€œrewrite(style=formal)â€ í˜•íƒœ í”„ë¡¬í”„íŠ¸ <br>- ë‹¤êµ­ì–´ ëª¨ë¸ ì‚¬ìš© (Gemini multilingual)                                                                                          | ğŸŒ í•œêµ­ì–´ â†” ì˜ì–´ í˜¼ìš© ìƒí™© ì²˜ë¦¬ ë°©ì‹ ë…¼ì˜ í•„ìš”                                   |

---

## ğŸ§  2ï¸âƒ£ ì‚¬ìš©ì ì¸í„°ë™ì…˜ ë°©ì‹

### ğŸ’¡ ì œì•ˆ

> **Option B (ì‚¬ì´ë“œ íŒ¨ë„í˜•)** + **Option A (ë¸”ë¡ ìš°í´ë¦­ íŠ¸ë¦¬ê±°)** ì˜ **í˜¼í•©í˜• êµ¬ì¡°**

#### êµ¬ì¡°

1. ë¸”ë¡ ì„ íƒ â†’ â€œAI ë„ì›€ë°›ê¸°â€ í´ë¦­ (íŠ¸ë¦¬ê±°)
2. ì˜¤ë¥¸ìª½ **AIAssistPanel** ì—´ë¦¼
   â†’ ìë™ìœ¼ë¡œ í˜„ì¬ ë¸”ë¡ì˜ ë‚´ìš© ë¶„ì„
3. ì¶”ì²œ ê²°ê³¼ 3ê°€ì§€ ìœ í˜• í‘œì‹œ:

   * ESG ë§¤í•‘ ì œì•ˆ
   * ìš”ì•½ ê²°ê³¼
   * ë¦¬ë¼ì´íŒ… ì˜ˆì‹œ
4. ê° ì œì•ˆ ì¹´ë“œì— [ì ìš©í•˜ê¸°] ë²„íŠ¼ (Command Systemê³¼ í†µí•©)

#### ë…¼ì˜ í¬ì¸íŠ¸

* **Option C (ì‹¤ì‹œê°„ ì œì•ˆ)**ì€ Phase 3 ì´í›„ ê³ ë ¤ê°€ ì ì ˆí•¨
  â†’ ì‹¤ì‹œê°„ inferenceëŠ” ë¹„ìš©Â·ì†ë„Â·UX ëª¨ë‘ ë¶€ë‹´ í¼
  â†’ ëŒ€ì‹  â€œDraft Assistâ€ í˜•íƒœ(=ì‚¬ìš©ì í´ë¦­ ì‹œ ì¦‰ì‹œ í”¼ë“œë°±)ê°€ íš¨ìœ¨ì 

---

## ğŸ’¾ 3ï¸âƒ£ ë°ì´í„° ì €ì¥ ë° íˆìŠ¤í† ë¦¬

| í•­ëª©              | ê²°ì • ë°©í–¥                                  | ë…¼ì˜ í¬ì¸íŠ¸                       |
| --------------- | -------------------------------------- | ---------------------------- |
| **AI ì œì•ˆ ë‚´ì—­ ì €ì¥** | âœ… ì €ì¥ (ë³„ë„ `ai_suggestions` í…Œì´ë¸”)         | ì‚¬ìš©ìê°€ â€œì ìš©â€/â€œê±°ì ˆâ€í•œ ë¡œê·¸ ì¶”ì  ê°€ëŠ¥     |
| **í•™ìŠµìš© í”¼ë“œë°±**     | âŒ ì§ì ‘ í•™ìŠµ X (ê°œì¸ ë°ì´í„° ì •ì±… ë¬¸ì œ)               | ëŒ€ì‹  â€œí†µê³„â€ ê¸°ë°˜ UX ê°œì„ ì— í™œìš©         |
| **ì‚¬ìš© í†µê³„**       | âœ… ë¬¸ì„œë³„ `ai_usage_count`, `last_used_at` | Dashboardì— â€œAI ë„ì›€ í™œìš©ë„â€ í‘œì‹œ ê°€ëŠ¥ |

â†’ ëª©ì ì€ â€œì‚¬ìš©ì í”¼ë“œë°± ë°ì´í„° ìˆ˜ì§‘â€ì´ì§€ â€œëª¨ë¸ ì¬í•™ìŠµâ€ì€ ì•„ë‹˜.

---

## âš™ï¸ 4ï¸âƒ£ ì„±ëŠ¥ ë° ë¹„ìš© ê³ ë ¤

| êµ¬ë¶„                      | ê¶Œì¥ ë°©ì‹                                   | ì´ìœ                       |
| ----------------------- | --------------------------------------- | ----------------------- |
| **ë¶„ì„ íŠ¸ë¦¬ê±°**              | â¯ï¸ â€œì‚¬ìš©ì í´ë¦­ ì‹œ ì‹¤í–‰â€                        | ì˜ˆì¸¡ ê°€ëŠ¥í•œ API í˜¸ì¶œ ë¹„ìš© ìœ ì§€     |
| **ë¶„ì„ ë‹¨ìœ„**               | ğŸ§© â€œë¸”ë¡ ë‹¨ìœ„ ë¶„ì„â€ (Section ë³‘í•© ì˜µì…˜ ì¶”ê°€)        | ì„¸ë°€í•œ ì»¨íŠ¸ë¡¤ & ì„±ëŠ¥ ìœ ì§€         |
| **Rate Limit Handling** | ëŒ€ê¸°ì—´ Queue (Redis ê¸°ë°˜)                    | Gemini 60RPM í•œë„ ëŒ€ë¹„ ì•ˆì „ì¥ì¹˜ |
| **ë¹„ë™ê¸° ì²˜ë¦¬**              | FastAPI BackgroundTask + Websocket push | UX í–¥ìƒ (ê²°ê³¼ ë„ì°© ì•Œë¦¼)        |

---

## ğŸ“š 5ï¸âƒ£ ESG ê¸°ì¤€ ë°ì´í„° (ê°€ì¥ ì¤‘ìš”í•œ ì˜ì—­)

| ë°©ì‹                                          | ì„¤ëª…                                                                                        | ì¥ë‹¨ì                                        |
| ------------------------------------------- | ----------------------------------------------------------------------------------------- | ----------------------------------------- |
| **A. ì‚¬ì „ êµ¬ì¶• Dataset (ì¶”ì²œ)**                   | GRI, SASB, TCFD ë“± ê³µê°œ ë¬¸ì„œë¥¼ JSONìœ¼ë¡œ êµ¬ì¡°í™” <br>`standard_id`, `title`, `description`, `keywords` | âœ… ì¼ê´€ì„± í™•ë³´ <br>âœ… LLM í”„ë¡¬í”„íŠ¸ì— contextë¡œ ì œê³µ      |
| **B. Gemini ìì²´ íŒë‹¨**                         | â€œì´ ë¬¸ë‹¨ì€ ì–´ë–¤ ESG ê¸°ì¤€ì— ë¶€í•©í•©ë‹ˆê¹Œ?â€                                                                 | âš ï¸ ì¼ê´€ì„± ë¶€ì¡±, ë‚´ë¶€ ê¸°ì¤€ ë¶ˆëª…                       |
| **C. RAG (Retrieval-Augmented Generation)** | Local DB (FAISS, Chroma)ì—ì„œ ê¸°ì¤€ ì„¤ëª… ê²€ìƒ‰ í›„ Gemini promptì— ì‚½ì…                                   | âœ… ì •í™•ë„â†‘, explainability í™•ë³´ <br>âš™ï¸ êµ¬ì¶•ë¹„ìš© ì†Œí­â†‘ |

> ğŸ¯ **ì¶”ì²œ ë°©í–¥:**
> 1ï¸âƒ£ Phase 2: A (Static JSON Dataset)
> 2ï¸âƒ£ Phase 3: C (RAG í†µí•©, Vector Embedding ê¸°ë°˜ ê²€ìƒ‰)

---

## ğŸ›¡ï¸ 6ï¸âƒ£ ì—ëŸ¬ í•¸ë“¤ë§ ë° ì±…ì„ í‘œì‹œ

| ìƒí™©                | ì²˜ë¦¬ ë°©ì‹                                  | UX ë°˜ì˜            |
| ----------------- | -------------------------------------- | ---------------- |
| API ì‹¤íŒ¨            | Retry â†’ Fallback (â€œìš”ì²­ì´ ì¼ì‹œì ìœ¼ë¡œ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.â€) | Toast ì•Œë¦¼         |
| ë¹„ì •ìƒ ì‘ë‹µ (nonsense) | â€œAI ì‘ë‹µ í’ˆì§ˆ ë‚®ìŒâ€ íƒœê·¸ í‘œì‹œ                    | ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘       |
| ì‘ë‹µ í•„í„°ë§            | profanity / hallucination í•„í„°           | ESG ì •ì±… ìœ„ë°° ë°©ì§€     |
| ì±…ì„ í‘œì‹œ             | â€œAIê°€ ìƒì„±í•œ ì œì•ˆì…ë‹ˆë‹¤. ê²€í†  í›„ ì‚¬ìš©í•˜ì„¸ìš”.â€           | í•­ìƒ ëª…ì‹œ (UX ê·œì • ì¤€ìˆ˜) |

---

## ğŸ§± 7ï¸âƒ£ ì´ˆê¸° ì„¤ê³„ ì•„í‚¤í…ì²˜ (ì •ì œ ë²„ì „)

```
frontend/
â””â”€â”€ components/features/ai-assist/
    â”œâ”€â”€ AIAssistPanel.tsx          # ì‚¬ì´ë“œë°” (ê²°ê³¼ í‘œì‹œ)
    â”œâ”€â”€ AIActionMenu.tsx           # ë¸”ë¡ ìš°í´ë¦­ ë©”ë‰´
    â”œâ”€â”€ AISuggestionCard.tsx       # ì œì•ˆ ì¹´ë“œ (ì ìš© ë²„íŠ¼ í¬í•¨)
    â””â”€â”€ hooks/
        â”œâ”€â”€ useAIAssist.ts         # ìš”ì²­/ìƒíƒœ ê´€ë¦¬
        â””â”€â”€ useAISuggestion.ts     # íŠ¹ì • ë¸”ë¡ ì œì•ˆ ê´€ë¦¬

backend/src/ai_assist/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ router.py                 # í†µí•© ë¼ìš°í„°
â”œâ”€â”€ config.py                 # Gemini API ì„¤ì •
â”œâ”€â”€ exceptions.py             # ì»¤ìŠ¤í…€ ì˜ˆì™¸
â”‚
â”œâ”€â”€ core/                     # ê³µí†µ ì½”ì–´
â”‚   â”œâ”€â”€ gemini_client.py      # Gemini API ë˜í¼
â”‚   â”œâ”€â”€ rate_limiter.py       # Rate limit ê´€ë¦¬
â”‚   â””â”€â”€ prompt_base.py        # í”„ë¡¬í”„íŠ¸ ë² ì´ìŠ¤ í´ë˜ìŠ¤
â”‚
â”œâ”€â”€ summarize/                # ìš”ì•½ ê¸°ëŠ¥
â”‚   â”œâ”€â”€ service.py
â”‚   â”œâ”€â”€ prompts.py
â”‚   â””â”€â”€ schemas.py
â”‚
â”œâ”€â”€ rewrite/                  # ë¦¬ë¼ì´íŒ… ê¸°ëŠ¥
â”‚   â”œâ”€â”€ service.py
â”‚   â”œâ”€â”€ prompts.py
â”‚   â””â”€â”€ schemas.py
â”‚
â”œâ”€â”€ esg_mapping/              # ESG ë§¤í•‘ (ê°€ì¥ ë³µì¡)
â”‚   â”œâ”€â”€ service.py
â”‚   â”œâ”€â”€ prompts.py
â”‚   â”œâ”€â”€ schemas.py
â”‚   â”œâ”€â”€ standards_loader.py   # ESG ê¸°ì¤€ ë°ì´í„° ë¡œë”
â”‚   â””â”€â”€ data/
â”‚       â”œâ”€â”€ gri_standards.json
â”‚       â”œâ”€â”€ sasb_standards.json
â”‚       â””â”€â”€ tcfd_standards.json
â”‚
â””â”€â”€ models.py                 # AI Suggestion ë¡œê·¸
```

---

## ğŸ§© 8ï¸âƒ£ API Endpoint ì„¤ê³„ ë°©í–¥ (1ì°¨ ì œì•ˆ)

| Method | Endpoint                            | ì„¤ëª…                |
| ------ | ----------------------------------- | ----------------- |
| POST   | `/api/v1/ai-assist/summarize`       | ë¬¸ë‹¨ ìš”ì•½             |
| POST   | `/api/v1/ai-assist/rewrite`         | ë¬¸ì¥ ë¦¬ë¼ì´íŒ…           |
| POST   | `/api/v1/ai-assist/map-esg`         | ESG ê¸°ì¤€ ë§¤í•‘ (ë‹¨ì¼ ë¬¸ë‹¨) |
| POST   | `/api/v1/ai-assist/analyze-section` | ì„¹ì…˜ ì „ì²´ ìš”ì•½/ë§¤í•‘       |

### ì˜ˆì‹œ Request

```json
{
  "text": "Our company reduced carbon emissions by 20% in 2024.",
  "goal": "clarity",
  "context": "ESG Environment section"
}
```

### ì˜ˆì‹œ Response

```json
{
  "type": "rewrite",
  "suggestion": "In 2024, our company achieved a 20% reduction in carbon emissions.",
  "metadata": {
    "esg_tags": ["GRI 305-5", "TCFD Metrics"],
    "confidence": 0.82
  }
}
```

---

## ğŸ§­ 9ï¸âƒ£ ì œì•ˆ: AI Assist Layer 3ë‹¨ê³„ ì§„í™” ë¡œë“œë§µ

| Phase       | ëª©í‘œ                                               | í•µì‹¬ ê¸°ìˆ                       |
| ----------- | ------------------------------------------------ | -------------------------- |
| **Phase 2** | Gemini APIë¡œ Summarize/Rewrite/ESG Mapping MVP êµ¬í˜„ | Gemini + JSON ESG ê¸°ì¤€       |
| **Phase 3** | ESG RAG êµ¬ì¶• (Vector ê²€ìƒ‰) + ì‚¬ìš©ì í”¼ë“œë°± ë¡œê·¸ í†µí•©           | LangChain + FAISS + DB ëª¨ë¸ë§ |
| **Phase 4** | ESG Fine-tuned Local ëª¨ë¸ ìš´ì˜ + AI í†µê³„ ëŒ€ì‹œë³´ë“œ          | LoRA Fine-tune + Analytics |

---

